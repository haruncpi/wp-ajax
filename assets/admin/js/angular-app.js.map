{"version":3,"file":"angular-app.js","mappings":"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","sources":["webpack://ajax/./assets/admin/src/angular-app/app.js"],"sourcesContent":["let myApp = angular.module('ajaxApp', [])\n\nmyApp.controller('AppCtrl', function ($scope, $http) {\n    $scope.sending = false;\n    $scope.savedList = []\n    $scope.model = {}\n\n    function initModel() {\n        $scope.model = {\n            id: null,\n            action: '',\n            title: '',\n            payload: ''\n        }\n    }\n\n    initModel()\n\n    let $ = jQuery\n    let savedData = localStorage.getItem('wp_ajax_simulator');\n    let ajaxUrl = $('input.ajax_url').val()\n    let editor = $('#input')\n    let output = $('#output')\n\n    if (savedData) {\n        $scope.model.payload = savedData\n    }\n\n    $('#input').keydown(function (e) {\n        if ((e.ctrlKey || e.metaKey) && (e.keyCode == 13 || e.keyCode == 10)) {\n            $('#ajax').click()\n        }\n    });\n\n    function textToJSON(text) {\n        const jsonObject = {};\n        const lines = text.split('\\n');\n\n        lines.forEach(line => {\n            const [key, value] = line.split(':').map(item => item.trim());\n            if (key) {\n                jsonObject[key] = isNaN(value) ? value : Number(value);\n            }\n        });\n\n        return jsonObject;\n    }\n\n    let jsonViewerConfig = {\n        collapsed: false,\n        rootCollapsable:false,\n        bigNumbers:false\n    }\n\n    $('#ajax').click(function () {\n        let input = editor.val()\n        let jsonData = textToJSON(input)\n\n        if (input && jsonData) {\n            try {\n                if (!jsonData.action) {\n                    output.jsonViewer('action key is required')\n                    return;\n                }\n\n                localStorage.setItem('wp_ajax_simulator', input)\n\n                $.ajax({\n                    type: 'POST',\n                    url: ajaxUrl,\n                    data: jsonData,\n                    beforeSend: function () {\n                        $scope.sending = true\n                        $scope.$digest()\n                        $('#status-code').hide()\n                    },\n                    success: function (res, textStatus, xhr) {\n                        $('#status-code').html(xhr.status).removeAttr('style')\n                        output.jsonViewer(res,jsonViewerConfig);\n                    },\n                    error: function (err) {\n                        $('#status-code').html(err.status).css('background-color', 'red')\n\n                        let status = err.status\n                        let errorText = err.responseJSON || err.responseText\n\n                        if ('0' === errorText && 400 === status) {\n                            errorText = {\n                                data: errorText,\n                                message: 'No AJAX registered with the name `' + jsonData.action + '`'\n                            }\n\n                        }\n\n                        output.jsonViewer(errorText,jsonViewerConfig);\n                    },\n                    complete: function () {\n                        $scope.sending = false\n                        $scope.$digest()\n                        $('#status-code').show()\n                    }\n                });\n            } catch (error) {\n                console.log(error)\n            }\n\n        }\n    })\n\n    function toFormData(obj) {\n        let formData = new FormData();\n        for (let [key, val] of Object.entries(obj)) {\n            formData.append(key, val);\n        }\n        return formData;\n    }\n\n    let config = {\n        transformRequest: angular.identity,\n        headers: {\n            'Content-Type': undefined\n        }\n    }\n\n    $scope.init = function () {\n        let formData = new FormData();\n        formData.append('action', 'ajax_list');\n\n        $http.post(ajaxUrl, formData, config)\n            .success(function (res) {\n                $scope.savedList = res.data\n            })\n    }\n\n    $scope.init();\n\n\n    $scope.saving = false;\n    $scope.save = function (model) {\n        let jsonPayload = textToJSON(model.payload)\n        if (!jsonPayload.action) {\n            alert('action key is required')\n            return;\n        }\n\n        model.action = 'ajax_list_save'\n        model.title = jsonPayload.action;\n\n        $scope.saving = true;\n        $http.post(ajaxUrl, toFormData(model), config)\n            .success(function (res) {\n                $scope.saving = false;\n                if (res.success) {\n                    $scope.init()\n                }\n            })\n    }\n\n    $scope.toggleSelect = function (row) {\n        if ($scope.model.id && $scope.model.id == row.id) {\n            initModel()\n        } else {\n            $scope.model = row;\n        }\n\n    }\n\n    $scope.remove = function (row) {\n        let data = { action: 'ajax_list_remove', id: row.id }\n\n        $http.post(ajaxUrl, toFormData(data), config)\n            .success(function (res) {\n                if (res.success) {\n                    $scope.init()\n                }\n            })\n    }\n})"],"names":["myApp","angular","module","controller","$scope","$http","sending","savedList","model","initModel","id","action","title","payload","$","jQuery","savedData","localStorage","getItem","ajaxUrl","val","editor","output","keydown","e","ctrlKey","metaKey","keyCode","click","textToJSON","text","jsonObject","lines","split","forEach","line","key","value","map","item","trim","isNaN","Number","jsonViewerConfig","collapsed","rootCollapsable","bigNumbers","input","jsonData","jsonViewer","setItem","ajax","type","url","data","beforeSend","$digest","hide","success","res","textStatus","xhr","html","status","removeAttr","error","err","css","errorText","responseJSON","responseText","message","complete","show","console","log","toFormData","obj","formData","FormData","Object","entries","append","config","transformRequest","identity","headers","undefined","init","post","saving","save","jsonPayload","alert","toggleSelect","row","remove"],"sourceRoot":""}